---
title: 添加文章后重新部署时需要注意的问题
date: 2025-12-01 10:52:38
category: 博客
layout: post
cover: \images\如何在云服务上部署Hexo\image1.png
coverWidth: 1920
coverHeight: 925
---

## 本地运行,确认程序是否有误
    无误后,进行下一步
---

## 本地生成最新的public
    ```
    hexo clean
    hexo g
    ```
---

## 上传文件
    删除旧文件
    ```
    rm -rf /portfolio/public
    ```

    重新上传
---

## 停掉旧的服务
先查看当前 4001 端口进程：
```
lsof -i:4001
```
找到 PID
然后停止它：
```
kill PID
```
确认端口空闲：
```
lsof -i:4001
```
应该没有输出。
---

## 进入 public 目录
```
cd /portfolio/public
```
---

## 用 PM2 启动新的 4001 服务
```
pm2 start "http-server -p 4001 -a 0.0.0.0" --name hexo-blog
```
检查是否启动成功：
```
pm2 list
```
---

## 浏览器访问
http://你的服务器IP:4001